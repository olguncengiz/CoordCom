/* Copyright (c) Ericsson 2016 */

define("jscore/core/XHR",["jscore/ext/privateStore"],function(e){var t=e.create(),n=function(e){t(this).nativeXHR=e};return n.prototype={abort:function(){t(this).nativeXHR.abort.call(t(this).nativeXHR)},getReadyState:function(){return t(this).nativeXHR.readyState},getStatus:function(){return t(this).nativeXHR.status},getResponseJSON:function(){return JSON.parse(t(this).nativeXHR.responseText)},getResponseText:function(){return t(this).nativeXHR.responseText},getStatusText:function(){return t(this).nativeXHR.statusText},getResponseHeader:function(e){return t(this).nativeXHR.getResponseHeader(e)}},n}),define("jscore/core/Visualiser",["require","jscore/ext/dom"],function(e,t){1e9*Math.random()>>>0}),define("jscore/core/Widget",["./UIComponent","./Private","./EventBus","./Visualiser","jscore/ext/privateStore"],function(e,t,n,i,o){var r=o.create(),a=e.extend({attachTo:function(e){this.detach(),this.attach(e)},attach:function(){e.prototype.attach.apply(this,arguments),this.onAttach()},onAttach:function(){},addEventHandler:function(e,t,i){return void 0===r(this).eventBus&&(r(this).eventBus=new n),r(this).eventBus.subscribe.apply(r(this).eventBus,arguments)},removeEventHandler:function(e,t){r(this).eventBus&&r(this).eventBus.unsubscribe.apply(r(this).eventBus,arguments)},trigger:function(e,t){r(this).eventBus&&r(this).eventBus.publish.apply(r(this).eventBus,arguments)},destroy:function(){this.onDestroy(),delete r(this).eventBus,this.getElement().remove()},onDestroy:function(){}});return a.extend=t.extend,a}),define("jscore/core/UIComponent",["./Private","jscore/ext/dom","jscore/ext/privateStore","./View"],function(e,t,n,i){function o(t){this.options=t=t||{},r(this).uid=e.guidGenerator(),this.init.apply(this,arguments),r(this).element=i.__prepareView(this),this.onViewReady.apply(this,arguments)}var r=n.create();return o.prototype={init:function(e){},onViewReady:function(e){},attach:function(e){var t=r(this).element;e=e||r(this).parent,void 0!==t&&void 0!==e&&t._getHTMLElement().parentNode!==e._getHTMLElement()&&(e.append(t),r(this).parent=e,this._listenForDOMAttach())},isAttached:function(){return r(this).element?t.Element.wrap(document.body).contains(this.getElement()):!1},detach:function(){var e=r(this).element,t=r(this).parent;void 0!==e&&void 0!==t&&e._getHTMLElement().parentNode===t._getHTMLElement()&&e.detach()},getElement:function(){return r(this).element},_listenForDOMAttach:function(){if(this.onDOMAttach){var e=function(){document.body.contains(this.getElement()._getHTMLElement())?this.onDOMAttach():requestAnimationFrame(e)}.bind(this);e()}}},o.extend=e.extend,o}),define("jscore/core/Region",["./UIComponent","./Private","jscore/ext/privateStore"],function(e,t,n){var i=n.create(),o=e.extend({start:function(e){this.attach(e),i(this).running=!0,this.onStart(),this.options.context&&this.options.context._addComponent(this)},onStart:function(){},isRunning:function(){return void 0===i(this).running?!1:i(this).running},stop:function(){if(this.isRunning()){var e=this.options.context;void 0!==e&&e._removeComponent(this),i(this).running=!1,this.getElement().remove(),this.onStop()}},onStop:function(){},getEventBus:function(){return this.getContext().eventBus},getContext:function(){return this.options.context}});return o.extend=t.extend,o}),define("jscore/core/View",["./Private","jscore/ext/dom","jscore/ext/privateStore"],function(e,t,n){function i(e){this.options=e||{},this.init.apply(this,arguments)}function o(e,t){if(t&&void 0===t.constructor.prototype.styles){var n=document.createElement("style");n.textContent=e,t.constructor.prototype.styles=n,a.push(n),document.head.appendChild(n)}}var r=n.create(),a=[];return i.prototype={init:function(e){},getTemplate:function(){return"<div></div>"},getStyle:function(){return""},render:function(){var e=this.getStyle();""!==e.trim()&&o(e,this);var n=this.getTemplate();"string"==typeof n?r(this).element=t.Element.parse(n):r(this).element=n,this.afterRender&&this.afterRender()},getElement:function(){return r(this).element}},i.__prepareView=function(e){return void 0!==e.View?e.view=new e.View:void 0!==e.view?"function"==typeof e.view&&(e.view=e.view()):e.view=new i,e.view.render?(e.view.render(),e.view.getElement()):new t.Element},i.__attachStyles=function(e){var t=document.head;a.forEach(function(e){t.appendChild(e)})},i.__detachStyles=function(e){a.forEach(function(e){e.parentNode.removeChild(e)})},i.extend=e.extend,i}),define("jscore/core/AppContext",["./Private","jscore/ext/privateStore"],function(e,t){var n=t.create(),i=function(){n(this).components=[],this.init.apply(this,arguments)};return i.prototype={init:function(){},_destroyAll:function(){for(var e=n(this).components,t=0;t<e.length;t++)e[t].stop(),t--},_addComponent:function(e){n(this).components.push(e)},_removeComponent:function(e){for(var t=n(this).components,i=0;i<t.length;i++)if(t[i]===e){t.splice(i,1);break}}},i.extend=e.extend,i}),define("jscore/core/EventBus",["./Private","jscore/ext/privateStore"],function(e,t){function n(){a(this).channels=[]}function i(e,t){for(var n=r.call(this,e),i=n.length,o=0;i>o;o++)if(n[o].id===t){n=n.splice(o,1);break}}function o(e){return a(this).channels.hasOwnProperty(e)}function r(e){return a(this).channels[e]}var a=t.create();return n.prototype={subscribe:function(t,n,i){o.call(this,t)||(a(this).channels[t]=[]),i=i?i:this;var s={id:e.guidGenerator(),channel:t,fn:n,context:i};return r.call(this,t).push(s),s.id},publish:function(e){if(o.call(this,e))for(var t=r.call(this,e),n=Array.prototype.slice.call(arguments,1),i=t.slice(0),a=0;a<i.length;a++)i[a].fn.apply(i[a].context,n)},unsubscribe:function(e,t){t?o.call(this,e)&&i.call(this,e,t):(t=e,Object.keys(a(this).channels).forEach(function(e){i.call(this,e,t)},this))}},n}),define("jscore/ext/utils/base/trigger",[],function(){"use strict";function e(e,o,r){var a,s;r=r||{};for(var c in n)r.hasOwnProperty(c)||(r[c]=n[c]);if(document.createEvent)s=t[o]||"CustomEvent",a=document.createEvent(s),i[s](e,o,a,r),e.dispatchEvent(a);else{a=document.createEventObject();for(var u in r)a[u]=r[u];e.fireEvent("on"+o,a)}}var t={load:"HTMLEvents",unload:"HTMLEvents",abort:"HTMLEvents",error:"HTMLEvents",select:"HTMLEvents",change:"HTMLEvents",submit:"HTMLEvents",reset:"HTMLEvents",focus:"HTMLEvents",blur:"HTMLEvents",resize:"HTMLEvents",scroll:"HTMLEvents",input:"HTMLEvents",keyup:"KeyboardEvent",keydown:"KeyboardEvent",click:"MouseEvents",dblclick:"MouseEvents",mousedown:"MouseEvents",mouseup:"MouseEvents",mouseover:"MouseEvents",mousemove:"MouseEvents",mouseout:"MouseEvents",contextmenu:"MouseEvents"},n={clientX:0,clientY:0,button:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,bubbles:!0,cancelable:!0,view:document.defaultView,key:"",location:0,modifiers:"",repeat:0,locale:""},i={HTMLEvents:function(e,t,n,i){return n.initEvent(t,i.bubbles,i.cancelable)},KeyboardEvent:function(e,t,n,i){var o,r,a="key"in i?i.key:"",s="location"in i?i.location:0;return n.initKeyboardEvent?(!1 in i?(r=[],i.ctrlKey&&r.push("Ctrl"),i.altKey&&r.push("Alt"),i.ctrlKey&&i.altKey&&r.push("AltGraph"),i.shiftKey&&r.push("Shift"),i.metaKey&&r.push("Meta"),r=r.join(" ")):r=i.modifiers,n.initKeyboardEvent(t,i.bubbles,i.cancelable,i.view,a,s,r,i.repeat,i.locale)):(o="charCode"in i?i.charCode:a.charCodeAt(0)||0,n.initKeyEvent(t,i.bubbles,i.cancelable,i.view,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,o,a))},MouseEvents:function(e,t,n,i){var o,r,a="screenX"in i?i.screenX:i.clientX,s="screenY"in i?i.screenY:i.clientY;return o="detail"in i?i.detail:"dblclick"===t?2:1,"contextmenu"===t&&(r=r=i.button||2),n.initMouseEvent(t,i.bubbles,i.cancelable,i.view,o,a,s,i.clientX,i.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,r,e)},CustomEvent:function(e,t,n,i){return n.initCustomEvent(t,i.bubbles,i.cancelable,i.detail)}};return e}),define("jscore/ext/validationPatterns",[],{alphanumeric:{title:"Text with only alpha numeric chars",pattern:"^[a-zA-Z0-9\\s]+$"},integer:{title:"Should be an integer",pattern:"^-?[0-9]+$"},integerPositive:{title:"Should be a positive integer",pattern:"^\\+?[0-9]+$"},ipv4:{title:"This should be a valid IPv4 Address",pattern:"((^|\\.)((25[0-5])|(2[0-4]\\d)|(1\\d\\d)|([1-9]?\\d))){4}$"},ipv6:{title:"This should be a valid IPv6 Address",pattern:"((^\\s*((([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]))\\s*$)|(^\\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(%.+)?\\s*$))|(^\\s*((?=.{1,255}$)(?=.*[A-Za-z].*)[0-9A-Za-z](?:(?:[0-9A-Za-z]|\\b-){0,61}[0-9A-Za-z])?(?:\\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|\\b-){0,61}[0-9A-Za-z])?)*)\\s*$)"},number:{title:"Should be an integer or a decimal",pattern:"^[-\\+]?[0-9]+([\\.,][0-9][0-9]*)?$"}}),define("jscore/core/Private",["jscore/ext/dom"],function(e){!function(){for(var e=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var i=(new Date).getTime(),o=Math.max(0,16-(i-e)),r=window.setTimeout(function(){t(i+o)},o);return e=i+o,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}();var t={guidGenerator:function(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()+"-"+(new Date).getTime()},objExtend:function(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach(function(t){for(var n in t)n&&(e[n]=t[n])}),e},extend:function(e,n){var i,o=this;i=e&&Object.prototype.hasOwnProperty.call(e,"constructor")?e.constructor:function(){o.apply(this,arguments)},t.objExtend(i,o,n);var r=function(){this.constructor=i};return r.prototype=o.prototype,i.prototype=new r,e&&t.objExtend(i.prototype,e),i.__super__=o.prototype,i}};return t}),define("jscore/core/Window",["./Private"],function(e){window.__ui__focusLockStack||(window.__ui__focusLockStack=[]);var t=window.__ui__focusLockStack,n={},i={},o={},r={_enableEvents:!1,addEventHandler:function(t,i){var o=e.guidGenerator(),a=function(e){var t={};e&&(t.originalEvent=e),r._enableEvents&&i(t)};return n[o]={id:o,eventName:t,callback:a},window.addEventListener(t,a,!1),o},removeEventHandler:function(e){var t=n[e];void 0!==t&&(window.removeEventListener(t.eventName,t.callback,!1),delete n[e])},setInterval:function(t,n){var o=e.guidGenerator(),a=function(){r._enableEvents&&t()};return i[o]=setInterval(a,n),{stop:function(){clearInterval(i[o]),delete i[o]}}},eachFrame:function(t){var n=e.guidGenerator(),i=!1,a=function(){r._enableEvents&&t(),i||(o[n]=requestAnimationFrame(a))};return o[n]=requestAnimationFrame(a),{stop:function(){cancelAnimationFrame(o[n]),delete o[n],i=!0}}},removeAllEventHandlers:function(){for(var e in n)r.removeEventHandler(e)},removeAllIntervals:function(){for(var e in i)clearInterval(i[e]);i={}},removeAllEachFrames:function(){for(var e in o)cancelAnimationFrame(o[e]);o={}},trigger:function(e,t){var i=/^([^:]+)(?::(.*))?/,o=e.match(i);if(o){var r=o[1],a=o[2];if(a)n[a].callback(t);else if(r)for(var s in n)n[s].eventName===r&&n[s].callback(t)}},getProperty:function(e){return window[e]},showPrintDialog:function(){window.print()},__requestFocusLock:function(e){function n(e){if(e===document)return!1;if(e.hasAttribute("data-bypassfocuslock"))return!0;e.parentElement;do if(e.hasAttribute("data-bypassfocuslock"))return!0;while(null!==(e=e.parentElement)&&e!==document.body);return!1}var i={lastFocusedBeforeLock:document.activeElement,requestor:e,listener:void 0};t.push(i);var o;if(e.children().length>0){var r="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]";o=e.find(r)}o||(o=e),i.listener=function(e){var i=t[t.length-1].requestor._getHTMLElement();i===e.target||i.contains(e.target)||n(e.target)||(e.stopPropagation(),o.focus())},o.focus(),document.addEventListener("focus",i.listener,!0)},__releaseFocusLock:function(){if(t.length>0){var e=t.pop();document.removeEventListener("focus",e.listener,!0),e.lastFocusedBeforeLock.focus()}}};return r}),define("jscore/core/App",["./Window","./Private","./EventBus","./AppContext","jscore/ext/dom","jscore/ext/privateStore","./View"],function(e,t,n,i,o,r,a){var s,c=r.create(),u=function(e){this.options=e||{},this.init.apply(this,arguments)};return u.prototype={createContext:function(){var e=new i;return e.eventBus=new n,e},_addToContainer:function(e){var t;t=e instanceof HTMLElement?o.Element.wrap(e):e,this._container=t,this.attach()},_removeFromContainer:function(){this.detach(),delete this._container,delete c(this).element},init:function(e){},start:function(e){void 0===c(this).element&&(c(this).context=this.createContext(),c(this).element=a.__prepareView(this),this._addToContainer(e),this.onStart())},attach:function(){var t=c(this).element;void 0!==t&&t._getHTMLElement().parentNode!==this._container._getHTMLElement()&&(a.__attachStyles(this),this._container.append(t),e._enableEvents=!0,s&&(cancelAnimationFrame(s),s=void 0),s=requestAnimationFrame(function(){e.trigger("resize"),e.trigger("hashchange"),s=void 0}))},isAttached:function(){return c(this).element?o.Element.wrap(document.body).contains(this.getElement()):!1},detach:function(){var t=c(this).element;void 0!==t&&t._getHTMLElement().parentNode===this._container._getHTMLElement()&&(t.detach(),a.__detachStyles(this),e._enableEvents=!1)},getEventBus:function(){return this.getContext().eventBus},getElement:function(){return c(this).element},getContext:function(){return c(this).context},stop:function(){this._removeFromContainer(),c(this).context._destroyAll(),c(this).context=void 0,this.onStop(),e._enableEvents=!1,e.removeAllEventHandlers(),e.removeAllIntervals(),e.removeAllEachFrames()},onStart:function(){},onStop:function(){}},u.extend=t.extend,u}),define("jscore/core",["./core/App","./core/AppContext","./core/EventBus","./core/Region","./core/View","./core/Widget","./core/Window","./core/XHR","./ext/dom","./core/Private"],function(e,t,n,i,o,r,a,s,c,u){"use strict";return{App:e,AppContext:t,EventBus:n,Region:i,Widget:r,Window:a,View:o,Element:c.Element,extend:u.extend,XHR:s,version:"1.7.1"}});