/* Copyright (c) Ericsson 2016 */

/*!
// Underscore.js 1.4.4
// ===================

// > http://underscorejs.org
// > (c) 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.
// > Underscore may be freely distributed under the MIT license.

// Baseline setup
// --------------
*/
define("jscore/ext/utils/base/underscore",[],function(){var n={},t=Array.prototype,r=Object.prototype,e=Function.prototype,u=t.push,i=t.slice,a=t.concat,c=r.toString,o=r.hasOwnProperty,l=t.forEach,f=t.map,s=t.reduce,p=t.reduceRight,h=t.filter,v=t.every,g=t.some,d=t.indexOf,m=t.lastIndexOf,y=Array.isArray,b=Object.keys,x=e.bind,_=function(n){return n instanceof _?n:this instanceof _?void(this._wrapped=n):new _(n)};_.VERSION="1.4.4";var j=_.each=_.forEach=function(t,r,e){if(null!=t)if(l&&t.forEach===l)t.forEach(r,e);else if(t.length===+t.length){for(var u=0,i=t.length;i>u;u++)if(r.call(e,t[u],u,t)===n)return}else for(var a in t)if(_.has(t,a)&&r.call(e,t[a],a,t)===n)return};_.map=_.collect=function(n,t,r){var e=[];return null==n?e:f&&n.map===f?n.map(t,r):(j(n,function(n,u,i){e[e.length]=t.call(r,n,u,i)}),e)};var w="Reduce of empty array with no initial value";_.reduce=_.foldl=_.inject=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),s&&n.reduce===s)return e&&(t=_.bind(t,e)),u?n.reduce(t,r):n.reduce(t);if(j(n,function(n,i,a){u?r=t.call(e,r,n,i,a):(r=n,u=!0)}),!u)throw new TypeError(w);return r},_.reduceRight=_.foldr=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),p&&n.reduceRight===p)return e&&(t=_.bind(t,e)),u?n.reduceRight(t,r):n.reduceRight(t);var i=n.length;if(i!==+i){var a=_.keys(n);i=a.length}if(j(n,function(c,o,l){o=a?a[--i]:--i,u?r=t.call(e,r,n[o],o,l):(r=n[o],u=!0)}),!u)throw new TypeError(w);return r},_.find=_.detect=function(n,t,r){var e;return A(n,function(n,u,i){return t.call(r,n,u,i)?(e=n,!0):void 0}),e},_.filter=_.select=function(n,t,r){var e=[];return null==n?e:h&&n.filter===h?n.filter(t,r):(j(n,function(n,u,i){t.call(r,n,u,i)&&(e[e.length]=n)}),e)},_.reject=function(n,t,r){return _.filter(n,function(n,e,u){return!t.call(r,n,e,u)},r)},_.every=_.all=function(t,r,e){r||(r=_.identity);var u=!0;return null==t?u:v&&t.every===v?t.every(r,e):(j(t,function(t,i,a){return(u=u&&r.call(e,t,i,a))?void 0:n}),!!u)};var A=_.some=_.any=function(t,r,e){r||(r=_.identity);var u=!1;return null==t?u:g&&t.some===g?t.some(r,e):(j(t,function(t,i,a){return u||(u=r.call(e,t,i,a))?n:void 0}),!!u)};_.contains=_.include=function(n,t){return null==n?!1:d&&n.indexOf===d?-1!=n.indexOf(t):A(n,function(n){return n===t})},_.invoke=function(n,t){var r=i.call(arguments,2),e=_.isFunction(t);return _.map(n,function(n){return(e?t:n[t]).apply(n,r)})},_.pluck=function(n,t){return _.map(n,function(n){return n[t]})},_.where=function(n,t,r){return _.isEmpty(t)?r?null:[]:_[r?"find":"filter"](n,function(n){for(var r in t)if(t[r]!==n[r])return!1;return!0})},_.findWhere=function(n,t){return _.where(n,t,!0)},_.max=function(n,t,r){if(!t&&_.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);if(!t&&_.isEmpty(n))return-(1/0);var e={computed:-(1/0),value:-(1/0)};return j(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;a>=e.computed&&(e={value:n,computed:a})}),e.value},_.min=function(n,t,r){if(!t&&_.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);if(!t&&_.isEmpty(n))return 1/0;var e={computed:1/0,value:1/0};return j(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;a<e.computed&&(e={value:n,computed:a})}),e.value},_.shuffle=function(n){var t,r=0,e=[];return j(n,function(n){t=_.random(r++),e[r-1]=e[t],e[t]=n}),e};var O=function(n){return _.isFunction(n)?n:function(t){return t[n]}};_.sortBy=function(n,t,r){var e=O(t);return _.pluck(_.map(n,function(n,t,u){return{value:n,index:t,criteria:e.call(r,n,t,u)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(e>r||void 0===e)return-1}return n.index<t.index?-1:1}),"value")};var E=function(n,t,r,e){var u={},i=O(t||_.identity);return j(n,function(t,a){var c=i.call(r,t,a,n);e(u,c,t)}),u};_.groupBy=function(n,t,r){return E(n,t,r,function(n,t,r){(_.has(n,t)?n[t]:n[t]=[]).push(r)})},_.countBy=function(n,t,r){return E(n,t,r,function(n,t){_.has(n,t)||(n[t]=0),n[t]++})},_.sortedIndex=function(n,t,r,e){r=null==r?_.identity:O(r);for(var u=r.call(e,t),i=0,a=n.length;a>i;){var c=i+a>>>1;r.call(e,n[c])<u?i=c+1:a=c}return i},_.toArray=function(n){return n?_.isArray(n)?i.call(n):n.length===+n.length?_.map(n,_.identity):_.values(n):[]},_.size=function(n){return null==n?0:n.length===+n.length?n.length:_.keys(n).length},_.first=_.head=_.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:i.call(n,0,t)},_.initial=function(n,t,r){return i.call(n,0,n.length-(null==t||r?1:t))},_.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:i.call(n,Math.max(n.length-t,0))},_.rest=_.tail=_.drop=function(n,t,r){return i.call(n,null==t||r?1:t)},_.compact=function(n){return _.filter(n,_.identity)};var k=function(n,t,r){return j(n,function(n){_.isArray(n)?t?u.apply(r,n):k(n,t,r):r.push(n)}),r};_.flatten=function(n,t){return k(n,t,[])},_.without=function(n){return _.difference(n,i.call(arguments,1))},_.uniq=_.unique=function(n,t,r,e){_.isFunction(t)&&(e=r,r=t,t=!1);var u=r?_.map(n,r,e):n,i=[],a=[];return j(u,function(r,e){(t?e&&a[a.length-1]===r:_.contains(a,r))||(a.push(r),i.push(n[e]))}),i},_.union=function(){return _.uniq(a.apply(t,arguments))},_.intersection=function(n){var t=i.call(arguments,1);return _.filter(_.uniq(n),function(n){return _.every(t,function(t){return _.indexOf(t,n)>=0})})},_.difference=function(n){var r=a.apply(t,i.call(arguments,1));return _.filter(n,function(n){return!_.contains(r,n)})},_.zip=function(){for(var n=i.call(arguments),t=_.max(_.pluck(n,"length")),r=new Array(t),e=0;t>e;e++)r[e]=_.pluck(n,""+e);return r},_.object=function(n,t){if(null==n)return{};for(var r={},e=0,u=n.length;u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},_.indexOf=function(n,t,r){if(null==n)return-1;var e=0,u=n.length;if(r){if("number"!=typeof r)return e=_.sortedIndex(n,t),n[e]===t?e:-1;e=0>r?Math.max(0,u+r):r}if(d&&n.indexOf===d)return n.indexOf(t,r);for(;u>e;e++)if(n[e]===t)return e;return-1},_.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(m&&n.lastIndexOf===m)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var u=e?r:n.length;u--;)if(n[u]===t)return u;return-1},_.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=0,i=new Array(e);e>u;)i[u++]=n,n+=r;return i},_.bind=function(n,t){if(n.bind===x&&x)return x.apply(n,i.call(arguments,1));var r=i.call(arguments,2);return function(){return n.apply(t,r.concat(i.call(arguments)))}},_.partial=function(n){var t=i.call(arguments,1);return function(){return n.apply(this,t.concat(i.call(arguments)))}},_.bindAll=function(n){var t=i.call(arguments,1);return 0===t.length&&(t=_.functions(n)),j(t,function(t){n[t]=_.bind(n[t],n)}),n},_.memoize=function(n,t){var r={};return t||(t=_.identity),function(){var e=t.apply(this,arguments);return _.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},_.delay=function(n,t){var r=i.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},_.defer=function(n){return _.delay.apply(_,[n,1].concat(i.call(arguments,1)))},_.throttle=function(n,t){var r,e,u,i,a=0,c=function(){a=new Date,u=null,i=n.apply(r,e)};return function(){var o=new Date,l=t-(o-a);return r=this,e=arguments,0>=l?(clearTimeout(u),u=null,a=o,i=n.apply(r,e)):u||(u=setTimeout(c,l)),i}},_.debounce=function(n,t,r){var e,u;return function(){var i=this,a=arguments,c=function(){e=null,r||(u=n.apply(i,a))},o=r&&!e;return clearTimeout(e),e=setTimeout(c,t),o&&(u=n.apply(i,a)),u}},_.once=function(n){var t,r=!1;return function(){return r?t:(r=!0,t=n.apply(this,arguments),n=null,t)}},_.wrap=function(n,t){return function(){var r=[n];return u.apply(r,arguments),t.apply(this,r)}},_.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},_.after=function(n,t){return 0>=n?t():function(){return--n<1?t.apply(this,arguments):void 0}},_.keys=b||function(n){if(n!==Object(n))throw new TypeError("Invalid object");var t=[];for(var r in n)_.has(n,r)&&(t[t.length]=r);return t},_.values=function(n){var t=[];for(var r in n)_.has(n,r)&&t.push(n[r]);return t},_.pairs=function(n){var t=[];for(var r in n)_.has(n,r)&&t.push([r,n[r]]);return t},_.invert=function(n){var t={};for(var r in n)_.has(n,r)&&(t[n[r]]=r);return t},_.functions=_.methods=function(n){var t=[];for(var r in n)_.isFunction(n[r])&&t.push(r);return t.sort()},_.extend=function(n){return j(i.call(arguments,1),function(t){if(t)for(var r in t)n[r]=t[r]}),n},_.pick=function(n){var r={},e=a.apply(t,i.call(arguments,1));return j(e,function(t){t in n&&(r[t]=n[t])}),r},_.omit=function(n){var r={},e=a.apply(t,i.call(arguments,1));for(var u in n)_.contains(e,u)||(r[u]=n[u]);return r},_.defaults=function(n){return j(i.call(arguments,1),function(t){if(t)for(var r in t)null==n[r]&&(n[r]=t[r])}),n},_.clone=function(n){return _.isObject(n)?_.isArray(n)?n.slice():_.extend({},n):n},_.tap=function(n,t){return t(n),n};var F=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof _&&(n=n._wrapped),t instanceof _&&(t=t._wrapped);var u=c.call(n);if(u!=c.call(t))return!1;switch(u){case"[object String]":return n==String(t);case"[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var i=r.length;i--;)if(r[i]==n)return e[i]==t;r.push(n),e.push(t);var a=0,o=!0;if("[object Array]"==u){if(a=n.length,o=a==t.length)for(;a--&&(o=F(n[a],t[a],r,e)););}else{var l=n.constructor,f=t.constructor;if(l!==f&&!(_.isFunction(l)&&l instanceof l&&_.isFunction(f)&&f instanceof f))return!1;for(var s in n)if(_.has(n,s)&&(a++,!(o=_.has(t,s)&&F(n[s],t[s],r,e))))break;if(o){for(s in t)if(_.has(t,s)&&!a--)break;o=!a}}return r.pop(),e.pop(),o};_.isEqual=function(n,t){return F(n,t,[],[])},_.isEmpty=function(n){if(null==n)return!0;if(_.isArray(n)||_.isString(n))return 0===n.length;for(var t in n)if(_.has(n,t))return!1;return!0},_.isElement=function(n){return!(!n||1!==n.nodeType)},_.isArray=y||function(n){return"[object Array]"==c.call(n)},_.isObject=function(n){return n===Object(n)},j(["Arguments","Function","String","Number","Date","RegExp"],function(n){_["is"+n]=function(t){return c.call(t)=="[object "+n+"]"}}),_.isArguments(arguments)||(_.isArguments=function(n){return!(!n||!_.has(n,"callee"))}),"function"!=typeof/./&&(_.isFunction=function(n){return"function"==typeof n}),_.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},_.isNaN=function(n){return _.isNumber(n)&&n!=+n},_.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"==c.call(n)},_.isNull=function(n){return null===n},_.isUndefined=function(n){return void 0===n},_.has=function(n,t){return o.call(n,t)},_.identity=function(n){return n},_.times=function(n,t,r){for(var e=Array(n),u=0;n>u;u++)e[u]=t.call(r,u);return e},_.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))};var R={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};R.unescape=_.invert(R.escape);var S={escape:new RegExp("["+_.keys(R.escape).join("")+"]","g"),unescape:new RegExp("("+_.keys(R.unescape).join("|")+")","g")};_.each(["escape","unescape"],function(n){_[n]=function(t){return null==t?"":(""+t).replace(S[n],function(t){return R[n][t]})}}),_.result=function(n,t){if(null==n)return null;var r=n[t];return _.isFunction(r)?r.call(n):r},_.mixin=function(n){j(_.functions(n),function(t){var r=_[t]=n[t];_.prototype[t]=function(){var n=[this._wrapped];return u.apply(n,arguments),q.call(this,r.apply(_,n))}})};var I=0;_.uniqueId=function(n){var t=++I+"";return n?n+t:t},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var M=/(.)^/,N={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},T=/\\|'|\r|\n|\t|\u2028|\u2029/g;_.template=function(n,t,r){var e;r=_.defaults({},r,_.templateSettings);var u=new RegExp([(r.escape||M).source,(r.interpolate||M).source,(r.evaluate||M).source].join("|")+"|$","g"),i=0,a="__p+='";n.replace(u,function(t,r,e,u,c){return a+=n.slice(i,c).replace(T,function(n){return"\\"+N[n]}),r&&(a+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),e&&(a+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),u&&(a+="';\n"+u+"\n__p+='"),i=c+t.length,t}),a+="';\n",r.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{e=new Function(r.variable||"obj","_",a)}catch(c){throw c.source=a,c}if(t)return e(t,_);var o=function(n){return e.call(this,n,_)};return o.source="function("+(r.variable||"obj")+"){\n"+a+"}",o},_.chain=function(n){return _(n).chain()};var q=function(n){return this._chain?_(n).chain():n};return _.mixin(_),j(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var r=t[n];_.prototype[n]=function(){var t=this._wrapped;return r.apply(t,arguments),"shift"!=n&&"splice"!=n||0!==t.length||delete t[0],q.call(this,t)}}),j(["concat","join","slice"],function(n){var r=t[n];_.prototype[n]=function(){return q.call(this,r.apply(this._wrapped,arguments))}}),_.extend(_.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),_});