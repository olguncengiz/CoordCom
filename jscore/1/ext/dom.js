/* Copyright (c) Ericsson 2016 */

define("jscore/ext/utils/base/trigger",[],function(){"use strict";function e(e,r,o){var a,s;o=o||{};for(var u in n)o.hasOwnProperty(u)||(o[u]=n[u]);if(document.createEvent)s=t[r]||"CustomEvent",a=document.createEvent(s),i[s](e,r,a,o),e.dispatchEvent(a);else{a=document.createEventObject();for(var d in o)a[d]=o[d];e.fireEvent("on"+r,a)}}var t={load:"HTMLEvents",unload:"HTMLEvents",abort:"HTMLEvents",error:"HTMLEvents",select:"HTMLEvents",change:"HTMLEvents",submit:"HTMLEvents",reset:"HTMLEvents",focus:"HTMLEvents",blur:"HTMLEvents",resize:"HTMLEvents",scroll:"HTMLEvents",input:"HTMLEvents",keyup:"KeyboardEvent",keydown:"KeyboardEvent",click:"MouseEvents",dblclick:"MouseEvents",mousedown:"MouseEvents",mouseup:"MouseEvents",mouseover:"MouseEvents",mousemove:"MouseEvents",mouseout:"MouseEvents",contextmenu:"MouseEvents"},n={clientX:0,clientY:0,button:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,bubbles:!0,cancelable:!0,view:document.defaultView,key:"",location:0,modifiers:"",repeat:0,locale:""},i={HTMLEvents:function(e,t,n,i){return n.initEvent(t,i.bubbles,i.cancelable)},KeyboardEvent:function(e,t,n,i){var r,o,a="key"in i?i.key:"",s="location"in i?i.location:0;return n.initKeyboardEvent?(!1 in i?(o=[],i.ctrlKey&&o.push("Ctrl"),i.altKey&&o.push("Alt"),i.ctrlKey&&i.altKey&&o.push("AltGraph"),i.shiftKey&&o.push("Shift"),i.metaKey&&o.push("Meta"),o=o.join(" ")):o=i.modifiers,n.initKeyboardEvent(t,i.bubbles,i.cancelable,i.view,a,s,o,i.repeat,i.locale)):(r="charCode"in i?i.charCode:a.charCodeAt(0)||0,n.initKeyEvent(t,i.bubbles,i.cancelable,i.view,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,r,a))},MouseEvents:function(e,t,n,i){var r,o,a="screenX"in i?i.screenX:i.clientX,s="screenY"in i?i.screenY:i.clientY;return r="detail"in i?i.detail:"dblclick"===t?2:1,"contextmenu"===t&&(o=o=i.button||2),n.initMouseEvent(t,i.bubbles,i.cancelable,i.view,r,a,s,i.clientX,i.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,o,e)},CustomEvent:function(e,t,n,i){return n.initCustomEvent(t,i.bubbles,i.cancelable,i.detail)}};return e}),define("jscore/ext/validationPatterns",[],{alphanumeric:{title:"Text with only alpha numeric chars",pattern:"^[a-zA-Z0-9\\s]+$"},integer:{title:"Should be an integer",pattern:"^-?[0-9]+$"},integerPositive:{title:"Should be a positive integer",pattern:"^\\+?[0-9]+$"},ipv4:{title:"This should be a valid IPv4 Address",pattern:"((^|\\.)((25[0-5])|(2[0-4]\\d)|(1\\d\\d)|([1-9]?\\d))){4}$"},ipv6:{title:"This should be a valid IPv6 Address",pattern:"((^\\s*((([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]))\\s*$)|(^\\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(%.+)?\\s*$))|(^\\s*((?=.{1,255}$)(?=.*[A-Za-z].*)[0-9A-Za-z](?:(?:[0-9A-Za-z]|\\b-){0,61}[0-9A-Za-z])?(?:\\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|\\b-){0,61}[0-9A-Za-z])?)*)\\s*$)"},number:{title:"Should be an integer or a decimal",pattern:"^[-\\+]?[0-9]+([\\.,][0-9][0-9]*)?$"}}),define("jscore/ext/dom",["jscore/ext/validationPatterns","jscore/ext/utils/base/trigger","jscore/ext/privateStore"],function(e,t,n){"use strict";function i(e){if(!e)throw new Error("Invalid HTML string");var t={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],script:[0,"<div>","</div>"],_default:[1,"<div>","</div>"]};t.optgroup=t.option,t.tbody=t.tfoot=t.colgroup=t.caption=t.thead,t.th=t.td;var n=document.createElement("div"),i=/<\s*\w.*?>/g.exec(e),r=function(){var e=n.querySelectorAll("script");if(e.length>0)for(var t=0;t<e.length;t++)s.wrap(e[t]).remove()};if(null!==i){var o=i[0].match(/<(\w+)/)[1],a=t[o]||t._default;e=a[1]+e+a[2],n.innerHTML=e,r();for(var u=a[0]+1;u--;)n=n.firstChild}else n.innerHTML=e,n=n.firstChild;return n}function r(e){return e.replace(/(\-[a-z])/g,function(e){return e.substring(1).toUpperCase()})}function o(e){var t=e.getAttribute("class");if(t&&(t=t.split(" "),!u(e).modifiersInitialised)){u(e).modifiers={};for(var n=new RegExp("(?:([a-zA-Z0-9-]+))(?:_([a-zA-Z0-9]+))?(?:_[a-zA-Z0-9]+)?"),i=0;i<t.length;i++){var r=t[i].match(n);r&&(0===i&&(u(e).modifierPrefix=r[1]),r[2]&&(u(e).modifiers[r[1]+"_"+r[2]]=r[0]))}u(e).modifiersInitialised=!0}}function a(e,t,n){var i={columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},o={"float":"cssFloat"};return t=r(t),t=o[t]||t,void 0===n?e.style[t]||window.getComputedStyle(e)[t]:("number"!=typeof n||i[t]||(n+="px"),void(e.style[t]=n))}function s(e){this._setHTMLElement(document.createElement(e||"div"))}var u=n.create(),d=new WeakMap;s.prototype={find:function(e){return l.find(e,this)},findAll:function(e){return l.findAll(e,this)},getValue:function(){return l.getValue(this)},setValue:function(e){l.setValue(this,e)},prepend:function(e){l.prepend(this,e)},append:function(e){l.append(this,e)},remove:function(){l.remove(this)},detach:function(){l.detach(this)},children:function(){return l.children(this)},addEventHandler:function(e,t,n){return l.addEventHandler(this,e,t,n)},removeEventHandler:function(e){l.removeEventHandler(e)},trigger:function(e,t){l.trigger(this,e,t)},getText:function(){return l.getText(this)},setText:function(e){l.setText(this,e)},getAttribute:function(e){return l.getAttribute(this,e)},setAttribute:function(e,t){l.setAttribute(this,e,t)},removeAttribute:function(e){l.removeAttribute(this,e)},getProperty:function(e){return l.getProperty(this,e)},setProperty:function(e,t){l.setProperty(this,e,t)},getStyle:function(e){return l.getStyle(this,e)},setStyle:function(e,t){l.setStyle(this,e,t)},removeStyle:function(e){l.removeStyle(this,e)},setModifier:function(e,t,n){l.setModifier(this,e,t,n)},hasModifier:function(e,t,n){return l.hasModifier(this,e,t,n)},removeModifier:function(e,t){l.removeModifier(this,e,t)},contains:function(e){return l.contains(this,e)},getPosition:function(){return l.getPosition(this)},focus:function(){l.focus(this)},setValidator:function(e,t){l.setValidator(this,e,t)},getParent:function(){return l.getParent(this)},getNative:function(){return this._getHTMLElement()},_getHTMLElement:function(){return u(this).element},_setHTMLElement:function(e){u(this).element=e,u(this).modifiersInitialised=!1,o(this),d.set(e,this)}},s.parse=function(e){var t=new s;return t._setHTMLElement(i(e)),t},s.wrap=function(e){if(e instanceof Node){if(d.has(e))return d.get(e);var t=new s;return t._setHTMLElement(e),t}};var l={Element:s,find:function(e,t){if(t){var n=t.getNative().querySelector(e);return void 0!==n?s.wrap(n):void 0}},findAll:function(e,t){for(var n=t.getNative().querySelectorAll(e),i=[],r=0;r<n.length;r++)i.push(s.wrap(n[r]));return i},setValue:function(e,t){e.getNative().value=null!==t&&void 0!==t?t:""},getValue:function(e){return e.getNative().value},prepend:function(e,t){var n=e.getNative().firstChild;e.getNative().insertBefore(t.getNative(),n)},append:function(e,t){e.getNative().appendChild(t.getNative())},remove:function(e){e.detach()},detach:function(e){var t=e.getNative();t.parentNode&&t.parentNode.removeChild(t)},children:function(e){for(var t=e.getNative().childNodes,n=[],i=0;i<t.length;i++)t[i].tagName&&n.push(s.wrap(t[i]));return n},getText:function(e){return e.getNative().textContent},setText:function(e,t){e.getNative().textContent=null!==t&&void 0!==t?t:""},getAttribute:function(e,t){return e.getNative().getAttribute?e.getNative().getAttribute(t)||void 0:void 0},setAttribute:function(e,t,n){e.getNative().setAttribute(t,n)},removeAttribute:function(e,t){e.getNative().removeAttribute(t)},getProperty:function(e,t){return e.getNative()[t]},setProperty:function(e,t,n){e.getNative()[t]=n},addEventHandler:function(e,t,n,i){i||(i=this);var r=function(e){function t(){e.preventDefault()}function r(){e.stopPropagation()}var o={originalEvent:e,preventDefault:t,stopPropagation:r};n.call(i,o)},o=e._getHTMLElement(),a=t.split(" ");return a.forEach(function(e){o.addEventListener(e,r)}),{destroy:function(){a.forEach(function(e){o.removeEventListener(e,r)})}}},removeEventHandler:function(e){e.destroy()},trigger:function(e,n,i){t(e._getHTMLElement(),n,i)},getStyle:function(e,t){return a(e.getNative(),t)},setStyle:function(e,t,n){if("object"==typeof t)for(var i in t)a(e.getNative(),i,t[i]);else a(e.getNative(),t,n)},removeStyle:function(e,t){a(e.getNative(),t,"")},setModifier:function(e,t,n,i){if(t&&t.indexOf(" ")>=0||n&&n.indexOf(" ")>=0)throw new Error("Key/Value in modifier should not contain whitespace");void 0===u(e).modifiers&&(u(e).modifiers={});var r=e.getNative();if(o(e),void 0===u(e).modifierPrefix&&!i)throw new Error("Element does not have a class.");var a=(i&&""!==i?i:u(e).modifierPrefix)+"_"+t,s=a;n&&""!==n&&(s+="_"+n),u(e).modifiers[a]&&r.classList.remove(u(e).modifiers[a]),r.classList.add(s),u(e).modifiers[a]=s},hasModifier:function(e,t,n,i){if(void 0===u(e).modifierPrefix)return!1;var r=(void 0!==i&&""!==i?i:u(e).modifierPrefix)+"_"+t,o=void 0!==u(e).modifiers&&void 0!==u(e).modifiers[r],a=void 0!==n&&u(e).modifiers[r]===r+"_"+n;return o&&(!n||a)},removeModifier:function(e,t,n){var i=e.getNative(),r=(n&&""!==n?n:u(e).modifierPrefix)+"_"+t;u(e).modifiers&&u(e).modifiers[r]&&(i.classList.remove(u(e).modifiers[r]),delete u(e).modifiers[r])},contains:function(e,t){return e._getHTMLElement().contains(t._getHTMLElement())},getPosition:function(e){var t=e._getHTMLElement().getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left}},focus:function(e){e._getHTMLElement().focus()},getParent:function(e){return s.wrap(e._getHTMLElement().parentNode)},setValidator:function(t,n,i){if("input"!==t._getHTMLElement().tagName.toLowerCase())throw new Error("Element must be an input.");var r,o=["email","url","password"],a="text";if("string"==typeof n||n instanceof String)if(-1!==o.indexOf(n))a=n;else{if(!e[n])throw new Error("Type '"+n+"' not supported.");r=e[n]}else"object"==typeof n&&n.pattern&&(r=n);r&&(void 0===t.getAttribute("title")&&r.title&&t.setAttribute("title",r.title),t._getHTMLElement().setAttribute("pattern",r.pattern));var s=t.getAttribute("type");(!s||s&&"password"!==s)&&t.setAttribute("type",a);var u=void 0!==i?i:"true";t.setProperty("required",u)}};return l});